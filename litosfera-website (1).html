<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La Litosfera e i Movimenti delle Placche</title>
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --accent-color: #e74c3c;
            --text-color: #333;
            --light-bg: #f5f5f5;
            --dark-bg: #34495e;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--light-bg);
        }
        
        header {
            background-color: var(--dark-bg);
            color: white;
            text-align: center;
            padding: 2rem 1rem;
            position: relative;
            overflow: hidden;
        }
        
        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('/api/placeholder/1200/400');
            background-size: cover;
            background-position: center;
            opacity: 0.3;
            z-index: 1;
        }
        
        header h1, header p {
            position: relative;
            z-index: 2;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }
        
        nav {
            background-color: var(--primary-color);
            display: flex;
            justify-content: center;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        nav ul {
            display: flex;
            list-style: none;
            max-width: 1200px;
            width: 100%;
        }
        
        nav li {
            flex-grow: 1;
            text-align: center;
        }
        
        nav a {
            color: white;
            text-decoration: none;
            padding: 1rem;
            display: block;
            transition: background-color 0.3s;
        }
        
        nav a:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }
        
        main {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 1rem;
        }
        
        section {
            margin-bottom: 3rem;
            background-color: white;
            border-radius: 8px;
            padding: 2rem;
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
        }
        
        h2 {
            color: var(--primary-color);
            margin-bottom: 1.5rem;
            border-bottom: 2px solid var(--light-bg);
            padding-bottom: 0.5rem;
        }
        
        h3 {
            color: var(--dark-bg);
            margin: 1.5rem 0 1rem;
        }
        
        p {
            margin-bottom: 1rem;
        }
        
        .img-container {
            margin: 2rem 0;
            text-align: center;
        }
        
        .img-container img {
            max-width: 100%;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
        }
        
        .caption {
            font-style: italic;
            color: #666;
            text-align: center;
            margin-top: 0.5rem;
        }
        
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }
        
        .card {
            background-color: var(--light-bg);
            padding: 1.5rem;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
        }
        
        .card:hover {
            transform: translateY(-5px);
        }
        
        .card h3 {
            color: var(--primary-color);
            margin-top: 0;
        }
        
        .app-container {
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: white;
            padding: 1rem;
            margin: 2rem 0;
        }
        
        .app-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .app-body {
            min-height: 300px;
        }
        
        .quiz-container, .interactive-container {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .quiz-question {
            padding: 1rem;
            background-color: var(--light-bg);
            border-radius: 8px;
        }
        
        .quiz-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .quiz-option {
            padding: 1rem;
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .quiz-option:hover {
            background-color: #f0f0f0;
        }
        
        .quiz-option.selected {
            background-color: var(--primary-color);
            color: white;
        }
        
        .quiz-option.correct {
            background-color: var(--secondary-color);
            color: white;
        }
        
        .quiz-option.incorrect {
            background-color: var(--accent-color);
            color: white;
        }
        
        .button {
            padding: 0.8rem 1.5rem;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s;
        }
        
        .button:hover {
            background-color: #2980b9;
        }
        
        .button:disabled {
            background-color: #95a5a6;
            cursor: not-allowed;
        }
        
        #plate-simulator {
            position: relative;
            width: 100%;
            height: 400px;
            border: 1px solid #ddd;
            overflow: hidden;
            background-color: #b3e0ff;
            margin-bottom: 1rem;
        }
        
        .plate {
            position: absolute;
            background-color: #a67c52;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            cursor: move;
            user-select: none;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16);
        }
        
        .controls {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        footer {
            background-color: var(--dark-bg);
            color: white;
            text-align: center;
            padding: 2rem;
            margin-top: 3rem;
        }
        
        @media (max-width: 768px) {
            nav ul {
                flex-direction: column;
            }
            
            .quiz-options {
                grid-template-columns: 1fr;
            }
            
            .grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>La Litosfera e i Movimenti delle Placche</h1>
        <p>Un viaggio alla scoperta della struttura della Terra e dei suoi continui cambiamenti</p>
    </header>
    
    <nav>
        <ul>
            <li><a href="#litosfera">La Litosfera</a></li>
            <li><a href="#deriva-continenti">Deriva dei Continenti</a></li>
            <li><a href="#movimenti-placche">Movimenti delle Placche</a></li>
            <li><a href="#conseguenze">Conseguenze</a></li>
            <li><a href="#applicazioni">Esercitazioni</a></li>
        </ul>
    </nav>
    
    <main>
        <section id="litosfera">
            <h2>La Litosfera: La "pelle" solida della Terra</h2>
            <p>La litosfera è lo strato più esterno della Terra, composto da rocce solide che formano la crosta terrestre e la parte superiore del mantello. Questo strato rigido si estende fino a una profondità di circa 100 km e "galleggia" sopra l'astenosfera, uno strato più caldo e plastico del mantello.</p>
            
            <div class="img-container">
                <img src="/api/placeholder/600/400" alt="Struttura della Terra e della litosfera">
                <p class="caption">Struttura a strati della Terra: crosta, mantello e nucleo</p>
            </div>
            
            <p>La litosfera non è un guscio continuo e uniforme, ma è frammentata in circa 20 placche tettoniche di diverse dimensioni che "galleggiano" sull'astenosfera e si muovono lentamente. Questi movimenti sono alla base di fenomeni come:</p>
            
            <ul>
                <li>Terremoti</li>
                <li>Eruzioni vulcaniche</li>
                <li>Formazione di catene montuose</li>
                <li>Creazione di fosse oceaniche</li>
            </ul>
            
            <h3>Composizione della litosfera</h3>
            <p>La litosfera è composta da due tipi principali di crosta:</p>
            
            <div class="grid">
                <div class="card">
                    <h3>Crosta continentale</h3>
                    <p>Più spessa (25-70 km) e meno densa, composta principalmente da rocce granitiche ricche di silicio e alluminio.</p>
                </div>
                <div class="card">
                    <h3>Crosta oceanica</h3>
                    <p>Più sottile (5-10 km) e più densa, composta principalmente da rocce basaltiche ricche di silicio e magnesio.</p>
                </div>
            </div>
        </section>
        
        <section id="deriva-continenti">
            <h2>La Teoria della Deriva dei Continenti</h2>
            <h3>Alfred Wegener e la sua intuizione rivoluzionaria</h3>
            <p>Nel 1912, il meteorologo e geofisico tedesco Alfred Wegener propose una teoria rivoluzionaria: i continenti non sono sempre stati nella posizione attuale, ma si sono spostati nel corso del tempo. Questa teoria, chiamata "deriva dei continenti", fu inizialmente molto criticata dalla comunità scientifica.</p>
            
            <div class="img-container">
                <img src="/api/placeholder/600/350" alt="Alfred Wegener">
                <p class="caption">Alfred Wegener (1880-1930), padre della teoria della deriva dei continenti</p>
            </div>
            
            <h3>Le prove raccolte da Wegener</h3>
            <p>Wegener raccolse diverse prove a sostegno della sua teoria:</p>
            
            <div class="grid">
                <div class="card">
                    <h3>Corrispondenza dei contorni</h3>
                    <p>Le coste dell'America del Sud e dell'Africa sembrano combaciare come pezzi di un puzzle.</p>
                </div>
                <div class="card">
                    <h3>Fossili simili</h3>
                    <p>Fossili di piante e animali identici sono stati trovati in continenti ora separati da oceani.</p>
                </div>
                <div class="card">
                    <h3>Rocce corrispondenti</h3>
                    <p>Formazioni rocciose simili e della stessa età si trovano in continenti ora distanti.</p>
                </div>
                <div class="card">
                    <h3>Prove climatiche</h3>
                    <p>Tracce di antichi ghiacciai in aree oggi tropicali e viceversa.</p>
                </div>
            </div>
            
            <h3>Dal Pangea ai continenti attuali</h3>
            <p>Secondo la teoria di Wegener, circa 300 milioni di anni fa esisteva un unico supercontinente chiamato Pangea ("tutta la Terra"). Questo supercontinente cominciò a frammentarsi circa 200 milioni di anni fa, dando origine ai continenti che conosciamo oggi.</p>
            
            <div class="img-container">
                <img src="/api/placeholder/700/300" alt="Frammentazione del Pangea">
                <p class="caption">Evoluzione dal Pangea ai continenti attuali</p>
            </div>
            
            <p>Il maggiore limite della teoria di Wegener era che non riusciva a spiegare quale forza potesse muovere i continenti. Solo negli anni '60 del XX secolo, con la scoperta dell'espansione dei fondali oceanici e lo sviluppo della teoria della tettonica a placche, la comunità scientifica accettò pienamente l'idea che i continenti si muovono.</p>
        </section>
        
        <section id="movimenti-placche">
            <h2>I Movimenti delle Placche Tettoniche</h2>
            <p>Le placche tettoniche si muovono molto lentamente, in media di pochi centimetri all'anno (circa la stessa velocità con cui crescono le unghie umane). Questi movimenti sono causati dalle correnti convettive nel mantello terrestre, generate dal calore interno della Terra.</p>
            
            <div class="img-container">
                <img src="/api/placeholder/700/350" alt="Principali placche tettoniche">
                <p class="caption">Le principali placche tettoniche della Terra</p>
            </div>
            
            <h3>Tipi di movimenti tra le placche</h3>
            <p>Esistono tre tipi principali di movimenti tra le placche tettoniche, che si verificano ai loro margini:</p>
            
            <div class="grid">
                <div class="card">
                    <h3>Margini convergenti</h3>
                    <p>Le placche si muovono l'una verso l'altra, causando:</p>
                    <ul>
                        <li>Subduzione: una placca (solitamente oceanica) scivola sotto l'altra (generalmente continentale) formando fosse oceaniche</li>
                        <li>Collisione: due placche continentali si scontrano formando catene montuose (es. Himalaya)</li>
                    </ul>
                </div>
                <div class="card">
                    <h3>Margini divergenti</h3>
                    <p>Le placche si allontanano l'una dall'altra, causando:</p>
                    <ul>
                        <li>Rift oceanici: sul fondo degli oceani, dove risale nuovo materiale dal mantello</li>
                        <li>Rift continentali: possono portare alla formazione di nuovi oceani</li>
                    </ul>
                </div>
                <div class="card">
                    <h3>Margini trasformi</h3>
                    <p>Le placche scorrono orizzontalmente l'una accanto all'altra, causando:</p>
                    <ul>
                        <li>Faglie trasformi: zone di intense attività sismica</li>
                        <li>Né creazione né distruzione di crosta terrestre</li>
                    </ul>
                </div>
            </div>
        </section>
        
        <section id="conseguenze">
            <h2>Conseguenze dei Movimenti delle Placche</h2>
            <p>I movimenti delle placche tettoniche hanno conseguenze profonde sulla superficie terrestre e sulla vita che la abita. Questi processi, che avvengono in tempi geologici (milioni di anni), modellano continuamente il nostro pianeta.</p>
            
            <h3>Fenomeni legati ai movimenti delle placche</h3>
            
            <div class="grid">
                <div class="card">
                    <h3>Terremoti</h3>
                    <p>Si verificano quando le placche tettoniche, muovendosi, accumulano tensione che viene improvvisamente rilasciata. Le zone più sismiche sono lungo i margini delle placche, come la "cintura di fuoco" del Pacifico.</p>
                </div>
                <div class="card">
                    <h3>Vulcani</h3>
                    <p>Si formano principalmente lungo i margini convergenti (dove una placca subduce sotto un'altra) e divergenti (dove le placche si allontanano). Il magma risale in superficie attraverso fratture nella crosta terrestre.</p>
                </div>
                <div class="card">
                    <h3>Catene montuose</h3>
                    <p>Si formano per lo più ai margini convergenti, quando due placche continentali collidono. Esempi sono l'Himalaya (collisione tra la placca indiana e quella eurasiatica) e le Alpi.</p>
                </div>
                <div class="card">
                    <h3>Fosse oceaniche</h3>
                    <p>Si formano ai margini convergenti quando una placca oceanica subduce sotto un'altra placca. La Fossa delle Marianne, il punto più profondo degli oceani (-11.000 m), si è formata così.</p>
                </div>
            </div>
            
            <h3>Impatto sulla biodiversità</h3>
            <p>I movimenti delle placche tettoniche hanno avuto un impatto profondo sull'evoluzione della vita sulla Terra:</p>
            <ul>
                <li>Separazione di popolazioni e sviluppo di specie endemiche</li>
                <li>Creazione di barriere geografiche (montagne, oceani) che influenzano la distribuzione degli organismi</li>
                <li>Formazione di nuovi habitat con condizioni climatiche diverse</li>
                <li>Estinzioni di massa causate da intensi eventi vulcanici legati ai movimenti delle placche</li>
            </ul>
            
            <div class="img-container">
                <img src="/api/placeholder/600/300" alt="Impatto dei movimenti tettonici sul clima e biodiversità">
                <p class="caption">Effetti dei movimenti tettonici sulla distribuzione della biodiversità</p>
            </div>
        </section>
        
        <section id="applicazioni">
            <h2>Esercitazioni Interattive</h2>
            <p>Metti alla prova le tue conoscenze sulla litosfera e sui movimenti delle placche tettoniche con queste applicazioni interattive.</p>
            
            <div class="app-container">
                <div class="app-header">
                    <h3>Quiz sulla Tettonica a Placche</h3>
                    <div id="quiz-progress">Domanda 1 di 5</div>
                </div>
                <div class="app-body">
                    <div class="quiz-container" id="quiz-app">
                        <div class="quiz-question">
                            <p id="question-text">Caricamento...</p>
                        </div>
                        <div class="quiz-options" id="options-container">
                            <!-- Options will be filled by JavaScript -->
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-top: 1rem;">
                            <button class="button" id="prev-btn" disabled>Precedente</button>
                            <button class="button" id="next-btn" disabled>Successiva</button>
                        </div>
                    </div>
                    <div id="result-container" style="display: none;">
                        <h3>Risultato Quiz</h3>
                        <p id="result-text"></p>
                        <button class="button" id="restart-btn">Riprova</button>
                    </div>
                </div>
            </div>
            
            <div class="app-container">
                <div class="app-header">
                    <h3>Simulatore di Movimenti delle Placche</h3>
                </div>
                <div class="app-body">
                    <div class="controls">
                        <select id="movement-type" class="button">
                            <option value="convergent">Margine Convergente</option>
                            <option value="divergent">Margine Divergente</option>
                            <option value="transform">Margine Trasformante</option>
                        </select>
                        <button class="button" id="reset-btn">Reset</button>
                    </div>
                    <div id="plate-simulator">
                        <div class="plate" id="plate1" style="width: 40%; height: 70%; left: 5%; top: 15%; background-color: #8B4513;">Placca 1</div>
                        <div class="plate" id="plate2" style="width: 40%; height: 70%; right: 5%; top: 15%; background-color: #A0522D;">Placca 2</div>
                    </div>
                    <div id="simulation-info">
                        <h4>Margine Convergente</h4>
                        <p>Le placche si muovono l'una verso l'altra. Questo può portare alla formazione di catene montuose o fosse oceaniche, a seconda del tipo di placche coinvolte.</p>
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <footer>
        <p>© 2025 La Litosfera e i Movimenti delle Placche - Sito educativo</p>
    </footer>
    
    <script>
        // Quiz Application
        const quizQuestions = [
            {
                question: "Chi propose per primo la teoria della deriva dei continenti?",
                options: ["Alfred Wegener", "Charles Darwin", "Isaac Newton", "Albert Einstein"],
                correctAnswer: 0
            },
            {
                question: "Quale di queste prove NON fu utilizzata da Wegener per supportare la sua teoria?",
                options: ["Corrispondenza dei contorni costieri", "Fossili simili in continenti diversi", "Misurazioni satellitari del movimento", "Tracce di antichi ghiacciai"],
                correctAnswer: 2
            },
            {
                question: "Come si chiama il supercontinente che esisteva circa 300 milioni di anni fa?",
                options: ["Atlantide", "Pangea", "Laurasia", "Gondwana"],
                correctAnswer: 1
            },
            {
                question: "Quale tipo di margine si forma quando due placche si allontanano?",
                options: ["Margine convergente", "Margine divergente", "Margine trasformante", "Margine passivo"],
                correctAnswer: 1
            },
            {
                question: "Quale fenomeno naturale NON è direttamente legato ai movimenti delle placche?",
                options: ["Terremoti", "Eruzioni vulcaniche", "Uragani", "Formazione di montagne"],
                correctAnswer: 2
            }
        ];
        
        let currentQuestion = 0;
        let score = 0;
        let answered = false;
        
        function initQuiz() {
            const questionText = document.getElementById('question-text');
            const optionsContainer = document.getElementById('options-container');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const quizProgress = document.getElementById('quiz-progress');
            const resultContainer = document.getElementById('result-container');
            const quizApp = document.getElementById('quiz-app');
            const restartBtn = document.getElementById('restart-btn');
            
            function displayQuestion() {
                answered = false;
                quizProgress.textContent = `Domanda ${currentQuestion + 1} di ${quizQuestions.length}`;
                const question = quizQuestions[currentQuestion];
                questionText.textContent = question.question;
                
                optionsContainer.innerHTML = '';
                question.options.forEach((option, index) => {
                    const optionElement = document.createElement('div');
                    optionElement.className = 'quiz-option';
                    optionElement.textContent = option;
                    optionElement.dataset.index = index;
                    optionElement.addEventListener('click', checkAnswer);
                    optionsContainer.appendChild(optionElement);
                });
                
                prevBtn.disabled = currentQuestion === 0;
                nextBtn.disabled = true;
            }
            
            function checkAnswer(e) {
                if (answered) return;
                
                const selectedIndex = parseInt(e.target.dataset.index);
                const correctIndex = quizQuestions[currentQuestion].correctAnswer;
                
                const options = document.querySelectorAll('.quiz-option');
                options.forEach(option => {
                    const optionIndex = parseInt(option.dataset.index);
                    option.classList.remove('selected', 'correct', 'incorrect');
                    
                    if (optionIndex === selectedIndex) {
                        option.classList.add('selected');
                        if (optionIndex === correctIndex) {
                            option.classList.add('correct');
                            score++;
                        } else {
                            option.classList.add('incorrect');
                        }
                    } else if (optionIndex === correctIndex) {
                        option.classList.add('correct');
                    }
                });
                
                answered = true;
                nextBtn.disabled = false;
            }
            
            function nextQuestion() {
                if (currentQuestion < quizQuestions.length - 1) {
                    currentQuestion++;
                    displayQuestion();
                } else {
                    showResults();
                }
            }
            
            function previousQuestion() {
                if (currentQuestion > 0) {
                    currentQuestion--;
                    displayQuestion();
                }
            }
            
            function showResults() {
                quizApp.style.display = 'none';
                resultContainer.style.display = 'block';
                
                const resultText = document.getElementById('result-text');
                const percentage = (score / quizQuestions.length) * 100;
                
                resultText.innerHTML = `
                    <p>Hai risposto correttamente a ${score} domande su ${quizQuestions.length}.</p>
                    <p>Punteggio: ${percentage}%</p>
                    <p>${percentage >= 70 ? 'Ottimo lavoro!' : 'Puoi migliorare! Rileggi le sezioni sulla tettonica a placche.'}</p>
                `;
            }
            
            function restartQuiz() {
                currentQuestion = 0;
                score = 0;
                quizApp.style.display = 'block';
                resultContainer.style.display = 'none';
                displayQuestion();
            }
            
            // Event listeners
            prevBtn.addEventListener('click', previousQuestion);
            nextBtn.addEventListener('click', nextQuestion);
            restartBtn.addEventListener('click', restartQuiz);
            
            // Initialize
            displayQuestion();
        }
        
        // Plate Simulator
        function initPlateSimulator() {
            const plate1 = document.getElementById('plate1');
            const plate2 = document.getElementById('plate2');
            const movementType = document.getElementById('movement-type');
            const resetBtn = document.getElementById('reset-btn');
            const simulationInfo = document.getElementById('simulation-info');
            
            let isDragging = false;
            let startX, startY;
            let animationId = null;
            
            const simulationTexts = {
                convergent: {
                    title: "Margine Convergente",
                    description: "Le placche si muovono l'una verso l'altra. Questo può portare alla formazione di catene montuose o fosse oceaniche, a seconda del tipo di placche coinvolte."
                },
                divergent: {
                    title: "Margine Divergente",
                    description: "Le placche si allontanano l'una dall'altra. Questo processo crea nuova crosta terrestre e può portare alla formazione di oceani."
                },
                transform: {
                    title: "Margine Trasformante",
                    description: "Le placche scorrono orizzontalmente l'una accanto all'altra. Questo movimento può causare terremoti ma non crea né distrugge crosta terrestre."
                }
            };
            
            function resetPlates() {
                if (animationId) {
                    cancelAnimationFrame(animationId);
                    animationId = null;
                }
                
                plate1.style.left = '5%';
                plate1.style.top = '15%';
                plate2.style.right = '5%';
                plate2.style.top = '15%';
                
                updateSimulationInfo();
            }
            
            function updateSimulationInfo() {
                const type = movementType.value;
                const info = simulationTexts[type];
                
                simulationInfo.innerHTML = `
                    <h4>${info.title}</h4>
                    <p>${info.description}</p>
                `;
            }
            
            function startAnimation() {
                if (animationId) {
                    cancelAnimationFrame(animationId);
                }
                
                const type = movementType.value;
                
                const animate = () => {
                    const plate1Left = parseFloat(plate1.style.left);
                    const plate2Right = parseFloat(plate2.style.right);
                    
                    if (type === 'convergent') {
                        // Convergent: plates move toward each other
                        if (plate1Left < 25 && plate2Right < 25) {
                            plate1.style.left = (plate1Left + 0.1) + '%';
                            plate2.style.right = (plate2Right + 0.1) + '%';
                            animationId = requestAnimationFrame(animate);
                        }
                    } else if (type === 'divergent') {
                        // Divergent: plates move away from each other
                        if (plate1Left > 0 && plate2Right > 0) {
                            plate1.style.left = (plate1Left - 0.1) + '%';
                            plate2.style.right = (plate2Right - 0.1) + '%';
                            animationId = requestAnimationFrame(animate);
                        }
                    } else if (type === 'transform') {
                        // Transform: plates slide past each other
                        const plate1Top = parseFloat(plate1.style.top);
                        const plate2Top = parseFloat(plate2.style.top);
                        
                        if (Math.abs(plate1Top - plate2Top) < 30) {
                            plate1.style.top = (plate1Top - 0.1) + '%';
                            plate2.style.top = (plate2Top + 0.1) + '%';
                            animationId = requestAnimationFrame(animate);
                        }
                    }
                };
                
                animate();
            }
            
            // Make plates draggable
            [plate1, plate2].forEach(plate => {
                plate.addEventListener('mousedown', function(e) {
                    isDragging = true;
                    startX = e.clientX;
                    startY = e.clientY;
                    
                    // Store original position
                    plate.dataset.startLeft = plate.style.left;
                    plate.dataset.startTop = plate.style.top;
                    plate.dataset.startRight = plate.style.right;
                    
                    e.preventDefault();
                });
                
                plate.addEventListener('touchstart', function(e) {
                    isDragging = true;
                    startX = e.touches[0].clientX;
                    startY = e.touches[0].clientY;
                    
                    // Store original position
                    plate.dataset.startLeft = plate.style.left;
                    plate.dataset.startTop = plate.style.top;
                    plate.dataset.startRight = plate.style.right;
                    
                    e.preventDefault();
                });
            });
            
            document.addEventListener('mousemove', function(e) {
                if (!isDragging) return;
                
                const dx = e.clientX - startX;
                const dy = e.clientY - startY;
                
                const activePlate = document.querySelector('.plate:active');
                if (activePlate) {
                    const simulator = document.getElementById('plate-simulator');
                    const simulatorRect = simulator.getBoundingClientRect();
                    
                    // Calculate percentage movement
                    const percentX = (dx / simulatorRect.width) * 100;
                    const percentY = (dy / simulatorRect.height) * 100;
                    
                    if (activePlate === plate1) {
                        const newLeft = parseFloat(activePlate.dataset.startLeft) + percentX;
                        const newTop = parseFloat(activePlate.dataset.startTop) + percentY;
                        
                        // Keep plate within bounds
                        if (newLeft >= 0 && newLeft <= 60) {
                            activePlate.style.left = newLeft + '%';
                        }
                        if (newTop >= 0 && newTop <= 30) {
                            activePlate.style.top = newTop + '%';
                        }
                    } else {
                        const newRight = parseFloat(activePlate.dataset.startRight) - percentX;
                        const newTop = parseFloat(activePlate.dataset.startTop) + percentY;
                        
                        // Keep plate within bounds
                        if (newRight >= 0 && newRight <= 60) {
                            activePlate.style.right = newRight + '%';
                        }
                        if (newTop >= 0 && newTop <= 30) {
                            activePlate.style.top = newTop + '%';
                        }
                    }
                }
            });
            
            document.addEventListener('touchmove', function(e) {
                if (!isDragging) return;
                
                const dx = e.touches[0].clientX - startX;
                const dy = e.touches[0].clientY - startY;
                
                const activePlate = document.querySelector('.plate:active') || 
                                   document.elementFromPoint(e.touches[0].clientX, e.touches[0].clientY);
                                   
                if (activePlate && activePlate.classList.contains('plate')) {
                    const simulator = document.getElementById('plate-simulator');
                    const simulatorRect = simulator.getBoundingClientRect();
                    
                    // Calculate percentage movement
                    const percentX = (dx / simulatorRect.width) * 100;
                    const percentY = (dy / simulatorRect.height) * 100;
                    
                    if (activePlate === plate1) {
                        const newLeft = parseFloat(activePlate.dataset.startLeft || '5') + percentX;
                        const newTop = parseFloat(activePlate.dataset.startTop || '15') + percentY;
                        
                        // Keep plate within bounds
                        if (newLeft >= 0 && newLeft <= 60) {
                            activePlate.style.left = newLeft + '%';
                        }
                        if (newTop >= 0 && newTop <= 30) {
                            activePlate.style.top = newTop + '%';
                        }
                    } else {
                        const newRight = parseFloat(activePlate.dataset.startRight || '5') - percentX;
                        const newTop = parseFloat(activePlate.dataset.startTop || '15') + percentY;
                        
                        // Keep plate within bounds
                        if (newRight >= 0 && newRight <= 60) {
                            activePlate.style.right = newRight + '%';
                        }
                        if (newTop >= 0 && newTop <= 30) {
                            activePlate.style.top = newTop + '%';
                        }
                    }
                }
                
                e.preventDefault();
            });
            
            document.addEventListener('mouseup', function() {
                isDragging = false;
            });
            
            document.addEventListener('touchend', function() {
                isDragging = false;
            });
            
            // Event listeners
            movementType.addEventListener('change', function() {
                resetPlates();
                startAnimation();
            });
            
            resetBtn.addEventListener('click', resetPlates);
            
            // Initialize
            updateSimulationInfo();
            startAnimation();
        }
        
        // Initialize applications when the page loads
        document.addEventListener('DOMContentLoaded', function() {
            initQuiz();
            initPlateSimulator();
        });
    </script>
</body>
</html>